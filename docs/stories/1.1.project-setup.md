# Story 1.1: Next.js Project Setup and Configuration

## Status
Draft

## Story
**As a** developer,
**I want** a properly configured Next.js TypeScript project with Tailwind CSS and essential tooling,
**so that** I have a solid foundation to build IdeaStash features efficiently.

## Acceptance Criteria
1. Next.js 14.0+ project with TypeScript 5.3+ configuration
2. Tailwind CSS 3.3+ with custom configuration for IdeaStash design system
3. Package manager set to pnpm with strict dependency resolution
4. Essential development tooling: ESLint, Prettier, Husky pre-commit hooks
5. Basic folder structure following unified project structure specification
6. Environment variable setup with .env.local.example template
7. Basic health check endpoint at /api/health returning project status

## Tasks / Subtasks
- [ ] Initialize Next.js project with TypeScript template (AC: 1)
  - [ ] Run `pnpm create next-app@latest ideastash --typescript --tailwind --eslint --app`
  - [ ] Verify Next.js 14.0+ and TypeScript 5.3+ versions in package.json
  - [ ] Configure TypeScript strict mode in tsconfig.json
- [ ] Configure pnpm package manager (AC: 3)
  - [ ] Create .npmrc with `package-manager-strict=true` and `auto-install-peers=false`
  - [ ] Set up package.json engines field to enforce pnpm usage
  - [ ] Configure pnpm-lock.yaml for reproducible builds
- [ ] Set up Tailwind CSS configuration (AC: 2)
  - [ ] Create tailwind.config.js with IdeaStash color palette from front-end spec
  - [ ] Configure content paths for component scanning
  - [ ] Set up custom CSS classes in globals.css for consistency
- [ ] Configure development tooling (AC: 4)
  - [ ] Set up ESLint with TypeScript and React rules
  - [ ] Configure Prettier with consistent formatting rules
  - [ ] Install and configure Husky for pre-commit hooks
  - [ ] Add lint-staged for efficient pre-commit linting
- [ ] Create folder structure (AC: 5)
  - [ ] Create src/components/, src/lib/, src/stores/, src/types/ directories
  - [ ] Create pages/api/ directory structure for API routes
  - [ ] Set up __tests__/ directory with component and API test folders
  - [ ] Create docs/ directory structure as per unified project structure
- [ ] Environment configuration (AC: 6)
  - [ ] Create .env.local.example with required environment variables
  - [ ] Set up next.config.js for environment variable validation
  - [ ] Configure runtime environment variable access patterns
- [ ] Health check endpoint (AC: 7)
  - [ ] Create pages/api/health.ts with system status response
  - [ ] Include Next.js version, Node.js version, and timestamp in response
  - [ ] Add basic error handling and proper HTTP status codes

## Dev Notes

### Previous Story Insights
First story in the project - no previous insights to reference.

### Tech Stack Requirements
[Source: architecture/tech-stack.md]
- **Frontend Framework**: Next.js 14.0+ with TypeScript 5.3+
- **Package Manager**: pnpm 9.15+ (enforced, not yarn/npm)
- **UI Styling**: Tailwind CSS 3.3+ with Headless UI components
- **Build Tool**: Turborepo 1.10+ for monorepo optimization
- **Testing**: Vitest 1.0+ with React Testing Library

### Project Structure Requirements
[Source: architecture/unified-project-structure.md]
The project must follow the exact directory structure specified:
- `src/components/` for React components with ui/, ideas/, auth/, layout/ subdirectories
- `src/lib/` for shared utilities with services/ and repositories/ subdirectories
- `pages/api/` for Next.js API routes
- `__tests__/` for all test files organized by type

### Environment Configuration
[Source: architecture/deployment-architecture.md]
Required environment variables for the foundation:
- `NEXT_PUBLIC_APP_URL` - Application URL for client-side usage
- `DATABASE_URL` - Supabase PostgreSQL connection string
- `NEXT_PUBLIC_SUPABASE_URL` - Supabase project URL
- `NEXT_PUBLIC_SUPABASE_ANON_KEY` - Supabase anonymous key

### Performance Requirements
[Source: architecture/security-and-performance.md]
- Build optimization with tree shaking enabled
- TypeScript strict mode for compile-time error prevention
- Bundle analysis setup for monitoring build sizes

### Testing Standards
[Source: architecture/testing-strategy.md]
- Test files location: `__tests__/` directory with subdirectories
- Testing framework: Vitest with React Testing Library
- Configuration files: `vitest.config.ts` and `jest.config.js` for compatibility
- Pre-commit hooks must include test execution for changed files

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-25 | 1.0 | Initial story creation for project foundation | Bob (Scrum Master) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

## QA Results
*This section will be populated by the QA agent after story completion*